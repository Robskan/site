<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">SillySite</title>
    <style>
        body {
            background-color: black;
            color: #8C76F3;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        #content {
            text-align: center;
        }
        #name {
            font-size: 100px;
            word-wrap: break-word;
        }
        .badge {
            display: inline-flex;
            margin: 0 5px;
            position: relative;
            cursor: pointer;
        }
        .tooltip {
            visibility: hidden;
            background-color: #23272A;
            color: #ffffff;
            text-align: center;
            border-radius: 5px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the icon */
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 200px;
            white-space: nowrap;
        }
        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%; /* Arrow at the bottom of tooltip */
            left: 50%;
            transform: translateX(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: #23272A transparent transparent transparent;
        }
        .badge:hover .tooltip {
            visibility: visible;
        }
        #badges {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px; /* Adjust this value to control the space */
        }
        #disallowed {
            color: red;
            font-size: 30px;
        }
    </style>
</head>
<body>
    <div id="content">
        <h1 id="name">Loading...</h1>
        <div id="badges">

        <!-- STAFF BADGE -->
            <div id="staff" class="badge" style="display:none;">
                <img src="/public/img/staff.png" alt="Verified Icon" width="50" height="50">
                <span class="tooltip">Staff Member</span>
            </div>

        <!-- FRIEND BADGE -->
            <div id="friend" class="badge" style="display:none;">
                <img src="/public/img/friend.png" alt="Silly Leader Icon" width="50" height="50">
                <span class="tooltip">Friend</span>
            </div>

        <!-- LOCKED BADGE -->
            <div id="locked" class="badge" style="display:none;">
                <img src="/public/img/locked.png" alt="Silly Leader Icon" width="50" height="50">
                <span class="tooltip">Locked: Abuse</span>
            </div>
        </div>
        <p id="disallowed" style="display:none;">Uh- you aren't looking for this page, right?!?!?</p>
    </div>
    
    <script>
        // List of disallowed domains
        const disallowedDomains = ['bannedpage']; // Replace with sanitized words
        const banned = ['banned']; // Pages with üö´ badge

        // STAFF BADGES
        const staffMembers = ['robbie'];

        // SPECIAL BADGES
        const friends = [''];
        
        // Extract the NAME from the URL path and decode it
        const pathSegments = window.location.pathname.split('/').filter(segment => segment);
        let name = '???';
        if (pathSegments.length > 0) {
            name = decodeURIComponent(pathSegments[0].replace(/%20/g, ' '));
        }

        // Set the NAME in the HTML content
        const nameElement = document.getElementById('name');
        const badgesElement = document.getElementById('badges');
        const disallowedElement = document.getElementById('disallowed');

        // BANNED
        const bannedBadge = document.getElementById('locked');

        // STAFF BADGES
        const staffBadge = document.getElementById('staff');
        const friendsBadge = document.getElementById('friends'); 

        // Set the name in the name element
        nameElement.textContent = name;
        
        // Check if the name is in the disallowed list
        if (disallowedDomains.includes(name.toLowerCase())) {
            document.getElementById('title').textContent = '404?!?!?';
            nameElement.style.display = 'none';
            badgesElement.style.display = 'none';
            disallowedElement.style.display = 'block';
        } else {
            document.getElementById('title').textContent = `${name} - Robskan.com`;

            // Show Verified silly badge if the name is in the approved list
            if (staffMembers.includes(name.toLowerCase())) {
                staffBadge.style.display = 'inline-flex';
            }

            // Show Partner badge if the name is in the approved list
            if (friends.includes(name.toLowerCase())) {
                partnerBadge.style.display = 'inline-flex';
            }

            // Check if the name is in the banned list
            if (banned.includes(name.toLowerCase())) {
                // Hide other badges
                partnerBadge.style.display = 'none';
            }

            if (banned.includes(name.toLowerCase())) {
                document.getElementById('title').textContent = '404?!?!?';
                nameElement.style.display = 'none';
                badgesElement.style.display = 'none';
                bannedBadge.style.display ='inline-flex';
                disallowedElement.style.display = 'block';
            }
        }

        // Check if the text width exceeds the screen width
        window.onload = () => {
            if (nameElement.scrollWidth > document.documentElement.clientWidth) {
                nameElement.textContent = 'üòµ‚Äçüí´üòµ Too long!';
            }
        };
    </script>
</body>
</html>
